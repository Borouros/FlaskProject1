<!DOCTYPE html>
<html lang="en">
<head>
  <title>Translated Announcement - Education in Portugal</title>
  <meta charset="UTF-8">
  <link rel="icon" href="{{ url_for('static', filename='favicon.ico') }}">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body {
      font-family: "Merriweather", "Open Sans", sans-serif;
      background-color: #ffffff;
      padding-top: 30px;
    }
    .card {
      border-radius: 6px;
      box-shadow: 0 1px 2px rgba(0,0,0,0.1);
    }
    .card-header {
      background-color: #8B0016;
      color: white;
      font-weight: bold;
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="row">
      <div class="col-md-6">
        <div class="card mb-4">
          <div class="card-header">Original Announcement ({{ source_language.upper() }})</div>
          <div class="card-body">
            <h5>{{ original_announcement.title }}</h5>
            <p>{{ original_announcement.content }}</p>
          </div>
        </div>
      </div>
      <div class="col-md-6">
        <div class="card mb-4">
          <div class="card-header">Translated Announcement ({{ target_language.upper() }})</div>
          <div class="card-body">
            <h5>{{ translated_title }}</h5>
            <p>{{ translated_content }}</p>
          </div>
        </div>
      </div>
    </div>
    
    <div class="text-center mb-4">
      <a href="{{ url_for('announcements') }}" class="btn btn-primary">Back to Announcements</a>
      <a href="{{ url_for('translate_announcement', announcement_id=original_announcement.id, source=target_language, target=source_language) }}" class="btn btn-secondary">Reverse Translation</a>
    </div>
  </div>
</body>
</html>


    const capitals = {
      // Europe
      "Albania": [41.3275, 19.8189], "Andorra": [42.5078, 1.5211], "Austria": [48.2082, 16.5738],
      "Belarus": [53.9, 27.5667], "Belgium": [50.8503, 4.3517], "Bosnia and Herzegovina": [43.8563, 18.4131],
      "Bulgaria": [42.6977, 23.3219], "Croatia": [45.8150, 15.9819], "Cyprus": [35.1856, 33.3823],
      "Czech Republic": [50.0755, 14.4378], "Czechia": [50.0755, 14.4378], 
      "Denmark": [55.6761, 12.5683], "Estonia": [59.437, 24.7536],
      "Finland": [60.1699, 24.9384], "France": [48.8566, 2.3522], "Germany": [52.52, 13.405],
      "Greece": [37.9838, 23.7275], "Hungary": [47.4979, 19.0402], "Iceland": [64.1466, -21.9426],
      "Ireland": [53.3498, -6.2603], "Italy": [41.9028, 12.4964], "Kosovo": [42.6629, 21.1655],
      "Latvia": [56.9496, 24.1052], "Liechtenstein": [47.141, 9.5215], "Lithuania": [54.6872, 25.2797],
      "Luxembourg": [49.6116, 6.1319], "Malta": [35.8989, 14.5146], "Moldova": [47.0105, 28.8638],
      "Monaco": [43.7384, 7.4246], "Montenegro": [42.4304, 19.2594], "Netherlands": [52.3676, 4.9041],
      "North Macedonia": [41.9981, 21.4254], "Norway": [59.9139, 10.7522], "Poland": [52.2297, 21.0122],
      "Portugal": [38.7169, -9.139], "Romania": [44.4268, 26.1025], "Russia": [55.7558, 37.6173],
      "San Marino": [43.9356, 12.4473], "Scotland": [55.9533, -3.1883],
      "Serbia": [44.8176, 20.4569], "Slovakia": [48.1486, 17.1077], "Slovenia": [46.0569, 14.5058],
      "Spain": [40.4168, -3.7038], "Sweden": [59.3293, 18.0686], "Switzerland": [46.9481, 7.4474],
      "Turkey": [39.9208, 32.8541], "Ukraine": [50.45, 30.5236], "United Kingdom": [51.5074, -0.1278],
      "Vatican": [41.9022, 12.4539], "Wales": [51.4816, -3.1791],

      // Middle East
      "Israel": [31.7683, 35.2137], "Palestine": [31.9073, 35.2034], "Lebanon": [33.8869, 35.5131],
      "Syria": [33.5138, 36.2765], "Jordan": [31.9454, 35.9284], "Iraq": [33.3152, 44.3661],
      "Iran": [35.6892, 51.3890], "Kuwait": [29.3117, 47.4818], "Saudi Arabia": [24.7136, 46.6753],
      "Bahrain": [26.0667, 50.5577], "Qatar": [25.2854, 51.5310], "United Arab Emirates": [24.2992, 54.6970],
      "Oman": [23.5859, 58.4059], "Yemen": [15.3694, 44.1910], "Afghanistan": [34.5553, 69.2075],
      "Pakistan": [33.7294, 73.0931], "Kazakhstan": [51.1694, 71.4491], "Georgia": [42.3154, 43.3569], "Armenia": [40.1792, 44.4991],
      "Azerbaijan": [40.4093, 49.8671], "Turkmenistan": [38.9697, 59.5563], "Uzbekistan": [41.3775, 64.5853],
    };

    const customNames = {
      // Europe
      "Albania": "syri", "Andorra": "ull", "Austria": "Auge", "Belarus": "вока", "Belgium": "œil",
      "Bosnia and Herzegovina": "oko", "Bulgaria": "око", "Croatia": "oko", "Cyprus": "μάτι", "Czechia": "oko",
      "Denmark": "øje", "Estonia": "silm", "Finland": "silmä", "France": "œil", "Germany": "Auge",
      "Greece": "μάτι", "Hungary": "szem", "Iceland": "auga", "Ireland": "súil", "Italy": "occhio",
      "Kosovo": "syri", "Latvia": "acs", "Liechtenstein": "Auge", "Lithuania": "akis", "Luxembourg": "Aen",
      "Malta": "għajn", "Moldova": "ochi", "Monaco": "œil", "Montenegro": "oko", "Netherlands": "oog",
      "North Macedonia": "око", "Norway": "øye", "Poland": "oko", "Portugal": "olho", "Romania": "ochi",
      "San Marino": "occhio", "Scotland": "sùil", "Serbia": "око", "Slovakia": "око", "Slovenia": "око", "Spain": "ojo",
      "Sweden": "öga", "Switzerland": "Auge", "Turkey": "göz", "Ukraine": "око", "United Kingdom": "eye",
      "Vatican": "occhio", "Russia": "глаз", "Wales": "llygad",
      // Middle East
      "Israel": "עין", "Palestine": "عين", "Lebanon": "عين", "Syria": "عين", "Jordan": "عين",
      "Iraq": "عين", "Iran": "چشم", "Kuwait": "عين", "Saudi Arabia": "عين", "Bahrain": "عين",
      "Qatar": "عين", "United Arab Emirates": "عين", "Oman": "عين", "Yemen": "عين",
      "Afghanistan": "سترګه", "Pakistan": "آنکھ", "Kazakhstan": "көз", "Georgia": "თვალი", "Armenia": "աչք",
      "Azerbaijan": "göz", "Turkmenistan": "göz", "Uzbekistan": "көз",
    };

    const pronunciations = {
      // Europe
      "Albania": "SY-ree", "Andorra": "ool", "Austria": "OW-geh", "Belarus": "VOH-ka", "Belgium": "uh-y",
      "Bosnia and Herzegovina": "OH-ko", "Bulgaria": "OH-ko", "Croatia": "OH-ko", "Cyprus": "MAH-tee",
      "Czechia": "OH-ko", "Denmark": "UR-yeh", "Estonia": "silm", "Finland": "SIL-mah", "France": "uh-y",
      "Germany": "OW-geh", "Greece": "MAH-tee", "Hungary": "sem", "Iceland": "OW-ga", "Ireland": "SOO-il",
      "Italy": "OH-kee-oh", "Kosovo": "SY-ree", "Latvia": "ahts", "Liechtenstein": "OW-geh", "Lithuania": "AH-kis",
      "Luxembourg": "ah-en", "Malta": "ah-yn", "Moldova": "OH-kee", "Monaco": "uh-y", "Montenegro": "OH-ko",
      "Netherlands": "ohg", "North Macedonia": "OH-ko", "Norway": "UR-yeh", "Poland": "OH-ko", "Portugal": "OH-lyo",
      "Romania": "OH-kee", "San Marino": "OH-kee-oh", "Scotland": "sool", "Serbia": "OH-ko", "Slovakia": "OH-ko", "Slovenia": "OH-ko",
      "Spain": "OH-ho", "Sweden": "UR-ga", "Switzerland": "OW-geh", "Turkey": "gurz", "Ukraine": "OH-ko",
      "United Kingdom": "ahy", "Vatican": "OH-kee-oh", "Russia": "glahs", "Wales": "LLUH-gad",
      
      // Middle East
      "Israel": "AH-yin", "Palestine": "AYN", "Lebanon": "AYN", "Syria": "AYN", "Jordan": "AYN",
      "Iraq": "AYN", "Iran": "cheshm", "Kuwait": "AYN", "Saudi Arabia": "AYN", "Bahrain": "AYN",
      "Qatar": "AYN", "United Arab Emirates": "AYN", "Oman": "AYN", "Yemen": "AYN",
      "Afghanistan": "star-GAH", "Pakistan": "AANKH", "Kazakhstan": "kohz", "Georgia": "tva-LEE", 
      "Armenia": "achk", "Azerbaijan": "g-urz", "Turkmenistan": "g-urz", "Uzbekistan": "kohz",
    };

    const countryColors = [
      '#8fbc8f', '#4daaf1ff', '#d2b48c', '#3befefff', '#9830edff', 
      '#c85c5cff', '#dda0dd', '#98fb98', '#f5deb3', '#d918afff',
      '#f7b345ff', '#69403bff', '#44be44ff', '#e79c11ff', '#c6a831ff'
    ];
    let colorIndex = 0;
    function getNextColor() { return countryColors[colorIndex++ % countryColors.length]; }

    function normalizeName(name) {
      const nameMap = {
        // Europe
        "Republic of Albania": "Albania", "Principality of Andorra": "Andorra", "Republic of Austria": "Austria",
        "Republic of Belarus": "Belarus", "Kingdom of Belgium": "Belgium", "Republic of Bulgaria": "Bulgaria",
        "Republic of Croatia": "Croatia", "Republic of Cyprus": "Cyprus", "Czech Republic": "Czechia",
        "Kingdom of Denmark": "Denmark", "Republic of Estonia": "Estonia", "Republic of Finland": "Finland",
        "French Republic": "France", "Federal Republic of Germany": "Germany", "Hellenic Republic": "Greece",
        "Republic of Iceland": "Iceland", "Italian Republic": "Italy", "Republic of Kosovo": "Kosovo",
        "Republic of Latvia": "Latvia", "Principality of Liechtenstein": "Liechtenstein", "Republic of Lithuania": "Lithuania",
        "Grand Duchy of Luxembourg": "Luxembourg", "Republic of Malta": "Malta", "Republic of Moldova": "Moldova",
        "Principality of Monaco": "Monaco", "Kingdom of the Netherlands": "Netherlands", "Republic of North Macedonia": "North Macedonia",
        "Kingdom of Norway": "Norway", "Republic of Poland": "Poland", "Portuguese Republic": "Portugal",
        "Republic of San Marino": "San Marino", "Republic of Serbia": "Serbia", "Slovak Republic": "Slovakia",
        "Republic of Slovenia": "Slovenia", "Kingdom of Spain": "Spain", "Kingdom of Sweden": "Sweden",
        "Swiss Confederation": "Switzerland", "Republic of Türkiye": "Turkey", "Republic of Turkey": "Turkey",
        "United Kingdom of Great Britain and Northern Ireland": "United Kingdom",
        "Vatican City State": "Vatican", "Russian Federation": "Russia", "Kingdom of Scotland": "Scotland",

        // Middle East
        "State of Israel": "Israel", "State of Palestine": "Palestine", "Lebanese Republic": "Lebanon",
        "Syrian Arab Republic": "Syria", "Hashemite Kingdom of Jordan": "Jordan", "Republic of Iraq": "Iraq",
        "Islamic Republic of Iran": "Iran", "State of Kuwait": "Kuwait", "Kingdom of Saudi Arabia": "Saudi Arabia",
        "Kingdom of Bahrain": "Bahrain", "State of Qatar": "Qatar", "Sultanate of Oman": "Oman",
        "Republic of Yemen": "Yemen", "Islamic Republic of Afghanistan": "Afghanistan",
        "Islamic Republic of Pakistan": "Pakistan", "Republic of Georgia": "Georgia",
        "Republic of Armenia": "Armenia", "Republic of Azerbaijan": "Azerbaijan",
      };
      return nameMap[name] || name;
    }
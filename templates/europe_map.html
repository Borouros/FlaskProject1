<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Europe Language Map</title>
  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css"/>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: 'Inter', sans-serif; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); overflow: hidden; }
    #map { height: 100vh; width: 100%; border-radius: 0; }

    .map-header {
      position: absolute;
      top: 20px; left: 20px; z-index: 1001;
      background: rgba(255,255,255,0.95);
      backdrop-filter: blur(10px);
      padding: 16px 24px;
      border-radius: 16px;
      box-shadow: 0 8px 32px rgba(0,0,0,0.1);
      border: 1px solid rgba(255,255,255,0.2);
    }
    .map-header h1 { font-size: 24px; font-weight: 600; color: #2d3748; margin-bottom: 4px; }
    .map-header p { font-size: 14px; color: #718096; font-weight: 400; }

    .country-label {
      font-size: 13px; font-weight: 500; text-align: center; color: #2d3748;
      text-shadow: 0 1px 3px rgba(255,255,255,0.8);
      font-family: 'Inter', sans-serif;
      background: rgba(255,255,255,0.9); padding: 4px 8px;
      border-radius: 8px; border: 1px solid rgba(0,0,0,0.1); backdrop-filter: blur(4px);
    }

    .hover-info {
      position: absolute;
      background: rgba(45,55,72,0.95); backdrop-filter: blur(12px);
      color: white; padding: 16px 20px; border-radius: 12px;
      pointer-events: none; z-index: 1000; font-size: 14px;
      box-shadow: 0 12px 48px rgba(0,0,0,0.3); border: 1px solid rgba(255,255,255,0.1);
      font-family: 'Inter', sans-serif; min-width: 200px;
      transform: translateY(-10px); transition: all 0.2s ease;
    }
    .hover-info h4 { margin: 0 0 8px 0; font-size: 18px; font-weight: 600; color: #f7fafc; }
    .hover-info .info-row { display: flex; justify-content: space-between; align-items: center; margin: 6px 0; padding: 2px 0; }
    .hover-info .info-label { font-size: 12px; color: #a0aec0; font-weight: 500; text-transform: uppercase; letter-spacing: 0.5px; }
    .hover-info .info-value { font-size: 14px; color: #e2e8f0; font-weight: 400; text-align: right; }
    .hover-info .info-value.pronunciation { font-style: italic; color: #bee3f8; }
    .hover-info .info-value.word { font-weight: 500; color: #90cdf4; font-size: 16px; }

    /* Leaflet popups */
    .leaflet-popup-content-wrapper { background: rgba(255,255,255,0.95); backdrop-filter: blur(12px); border-radius: 12px; box-shadow: 0 12px 48px rgba(0,0,0,0.15); border: 1px solid rgba(0,0,0,0.1); }
    .leaflet-popup-content { margin: 16px 20px; font-family: 'Inter', sans-serif; }
    .leaflet-popup-content h4 { margin: 0 0 12px 0; font-size: 18px; font-weight: 600; color: #2d3748; }
    .leaflet-popup-content p { margin: 8px 0; color: #4a5568; font-size: 14px; }
    .leaflet-popup-content input { width: 100%; padding: 8px 12px; border: 2px solid #e2e8f0; border-radius: 8px; font-size: 14px; font-family: 'Inter', sans-serif; margin: 8px 0; transition: border-color 0.2s ease; }
    .leaflet-popup-content input:focus { outline: none; border-color: #4299e1; box-shadow: 0 0 0 3px rgba(66,153,225,0.1); }
    .leaflet-popup-content button { background: linear-gradient(135deg,#4299e1,#3182ce); color: white; border: none; padding: 8px 16px; border-radius: 8px; font-size: 14px; font-weight: 500; cursor: pointer; transition: all 0.2s ease; font-family: 'Inter', sans-serif; }
    .leaflet-popup-content button:hover { background: linear-gradient(135deg,#3182ce,#2c5aa0); transform: translateY(-1px); box-shadow: 0 4px 12px rgba(66,153,225,0.3); }
    .leaflet-popup-tip { background: rgba(255,255,255,0.95); backdrop-filter: blur(12px); }

    /* Custom zoom controls */
    .leaflet-control-zoom { border: none !important; box-shadow: 0 8px 32px rgba(0,0,0,0.1) !important; }
    .leaflet-control-zoom a { background: rgba(255,255,255,0.9) !important; backdrop-filter: blur(8px); border: 1px solid rgba(0,0,0,0.1) !important; color: #4a5568 !important; font-weight: 600; transition: all 0.2s ease; }
    .leaflet-control-zoom a:hover { background: rgba(255,255,255,1) !important; color: #2d3748 !important; }
  </style>
</head>
<body>
  <div class="map-header">
    <h1>European Languages</h1>
    <p>Hover to explore the word for "eye"</p>
  </div>
  <div id="map"></div>
  <div id="hover-info" class="hover-info" style="display:none;"></div>
  <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
  <script>

    const capitals = {
      // ---------------- EUROPE ----------------
      "Albania": [41.2, 20.0],    "Andorra": [42.6, 1.6],      "Austria": [47.6, 14.1],     "Belarus": [53.5, 28.0],
      "Belgium": [50.8, 4.5],     "Bosnia and Herzegovina": [44.1, 17.8],  "Bulgaria": [42.8, 25.2], "Croatia": [45.1, 16.4],
      "Cyprus": [35.0, 33.2],     "Czech Republic": [49.8, 15.5],  "Czechia": [49.8, 15.5],   "Denmark": [56.0, 10.0],
      "Estonia": [58.7, 25.0],    "Finland": [64.5, 26.0],     "France": [46.6, 2.6],       "Germany": [51.1, 10.3],
      "Greece": [39.0, 22.0],     "Hungary": [47.2, 19.5],     "Iceland": [64.9, -18.6],    "Ireland": [53.4, -8.0],
      "Italy": [42.9, 12.5],      "Kosovo": [42.6, 20.9],      "Latvia": [56.9, 24.9],      "Liechtenstein": [47.2, 9.6],
      "Lithuania": [55.2, 24.0],  "Luxembourg": [49.8, 6.1],   "Malta": [35.9, 14.4],       "Moldova": [47.1, 28.6],
      "Monaco": [43.7, 7.4],      "Montenegro": [42.8, 19.2],  "Netherlands": [52.3, 5.4],  "North Macedonia": [41.6, 21.7],
      "Norway": [64.6, 11.0],     "Poland": [52.1, 19.4],      "Portugal": [39.7, -8.1],    "Romania": [45.8, 24.9],
      "Russia": [61.5, 99.0],     "San Marino": [43.9, 12.5],  "Scotland": [56.8, -4.1],    "Serbia": [44.2, 20.8],
      "Slovakia": [48.7, 19.5],   "Slovenia": [46.1, 14.8],    "Spain": [40.3, -3.5],       "Sweden": [62.8, 16.8],
      "Switzerland": [46.8, 8.3], "Turkey": [39.0, 35.0],      "Ukraine": [49.0, 31.4],     "United Kingdom": [54.3, -2.0],
      "Vatican": [41.9, 12.5],    "Wales": [52.3, -3.8],

      // ---------------- MIDDLE EAST ----------------
      "Israel": [31.3, 34.9],     "Palestine": [31.9, 35.3],   "Lebanon": [33.9, 35.8],     "Syria": [35.0, 38.5],
      "Jordan": [31.3, 36.4],     "Iraq": [33.0, 44.5],        "Iran": [32.5, 53.7],        "Kuwait": [29.5, 47.7],
      "Saudi Arabia": [23.9, 45.1], "Bahrain": [26.1, 50.5],   "Qatar": [25.3, 51.2],       "United Arab Emirates": [24.3, 54.4],
      "Oman": [20.5, 56.1],       "Yemen": [15.7, 47.6],

      // ---------------- CENTRAL ASIA + CAUCASUS ----------------
      "Afghanistan": [34.6, 66.0], "Pakistan": [30.4, 69.4],   "Kazakhstan": [48.0, 67.5],  "Georgia": [42.1, 43.5],
      "Armenia": [40.3, 44.9],    "Azerbaijan": [40.3, 47.8],  "Turkmenistan": [39.0, 59.4], "Uzbekistan": [41.3, 64.5]
    };


    const customNames = {
      // Europe
      "Albania": "syri", "Andorra": "ull", "Austria": "Auge", "Belarus": "вока", "Belgium": "œil",
      "Bosnia and Herzegovina": "oko", "Bulgaria": "око", "Croatia": "oko", "Cyprus": "μάτι", "Czechia": "oko",
      "Denmark": "øje", "Estonia": "silm", "Finland": "silmä", "France": "œil", "Germany": "Auge",
      "Greece": "μάτι", "Hungary": "szem", "Iceland": "auga", "Ireland": "súil", "Italy": "occhio",
      "Kosovo": "syri", "Latvia": "acs", "Liechtenstein": "Auge", "Lithuania": "akis", "Luxembourg": "Aen",
      "Malta": "għajn", "Moldova": "ochi", "Monaco": "œil", "Montenegro": "oko", "Netherlands": "oog",
      "North Macedonia": "око", "Norway": "øye", "Poland": "oko", "Portugal": "olho", "Romania": "ochi",
      "San Marino": "occhio", "Scotland": "sùil", "Serbia": "око", "Slovakia": "око", "Slovenia": "око", "Spain": "ojo",
      "Sweden": "öga", "Switzerland": "Auge", "Turkey": "göz", "Ukraine": "око", "United Kingdom": "eye",
      "Vatican": "occhio", "Russia": "глаз", "Wales": "llygad",
      // Middle East
      "Israel": "עין", "Palestine": "عين", "Lebanon": "عين", "Syria": "عين", "Jordan": "عين",
      "Iraq": "عين", "Iran": "چشم", "Kuwait": "عين", "Saudi Arabia": "عين", "Bahrain": "عين",
      "Qatar": "عين", "United Arab Emirates": "عين", "Oman": "عين", "Yemen": "عين",
      "Afghanistan": "سترګه", "Pakistan": "آنکھ", "Kazakhstan": "көз", "Georgia": "თვალი", "Armenia": "աչք",
      "Azerbaijan": "göz", "Turkmenistan": "göz", "Uzbekistan": "көз"
    };

    const pronunciations = {
      // Europe
      "Albania": "SY-ree", "Andorra": "ool", "Austria": "OW-geh", "Belarus": "VOH-ka", "Belgium": "uh-y",
      "Bosnia and Herzegovina": "OH-ko", "Bulgaria": "OH-ko", "Croatia": "OH-ko", "Cyprus": "MAH-tee",
      "Czechia": "OH-ko", "Denmark": "UR-yeh", "Estonia": "silm", "Finland": "SIL-mah", "France": "uh-y",
      "Germany": "OW-geh", "Greece": "MAH-tee", "Hungary": "sem", "Iceland": "OW-ga", "Ireland": "SOO-il",
      "Italy": "OH-kee-oh", "Kosovo": "SY-ree", "Latvia": "ahts", "Liechtenstein": "OW-geh", "Lithuania": "AH-kis",
      "Luxembourg": "ah-en", "Malta": "ah-yn", "Moldova": "OH-kee", "Monaco": "uh-y", "Montenegro": "OH-ko",
      "Netherlands": "ohg", "North Macedonia": "OH-ko", "Norway": "UR-yeh", "Poland": "OH-ko", "Portugal": "OH-lyo",
      "Romania": "OH-kee", "San Marino": "OH-kee-oh", "Scotland": "sool", "Serbia": "OH-ko", "Slovakia": "OH-ko", "Slovenia": "OH-ko",
      "Spain": "OH-ho", "Sweden": "UR-ga", "Switzerland": "OW-geh", "Turkey": "gurz", "Ukraine": "OH-ko",
      "United Kingdom": "ahy", "Vatican": "OH-kee-oh", "Russia": "glahs", "Wales": "LLUH-gad",
      
      // Middle East
      "Israel": "AH-yin", "Palestine": "AYN", "Lebanon": "AYN", "Syria": "AYN", "Jordan": "AYN",
      "Iraq": "AYN", "Iran": "cheshm", "Kuwait": "AYN", "Saudi Arabia": "AYN", "Bahrain": "AYN",
      "Qatar": "AYN", "United Arab Emirates": "AYN", "Oman": "AYN", "Yemen": "AYN",
      "Afghanistan": "star-GAH", "Pakistan": "AANKH", "Kazakhstan": "kohz", "Georgia": "tva-LEE", 
      "Armenia": "achk", "Azerbaijan": "g-urz", "Turkmenistan": "g-urz", "Uzbekistan": "kohz"
    };

    const countryColors = [
      '#8fbc8f', '#4daaf1ff', '#d2b48c', '#3befefff', '#9830edff', 
      '#c85c5cff', '#dda0dd', '#98fb98', '#f5deb3', '#d918afff',
      '#f7b345ff', '#69403bff', '#44be44ff', '#e79c11ff', '#c6a831ff'
    ];
    let colorIndex = 0;
    function getNextColor() { return countryColors[colorIndex++ % countryColors.length]; }

    function normalizeName(name) {
      const nameMap = {
        // Europe
        "Republic of Albania": "Albania", "Principality of Andorra": "Andorra", "Republic of Austria": "Austria",
        "Republic of Belarus": "Belarus", "Kingdom of Belgium": "Belgium", "Republic of Bulgaria": "Bulgaria",
        "Republic of Croatia": "Croatia", "Republic of Cyprus": "Cyprus", "Czech Republic": "Czechia",
        "Kingdom of Denmark": "Denmark", "Republic of Estonia": "Estonia", "Republic of Finland": "Finland",
        "French Republic": "France", "Federal Republic of Germany": "Germany", "Hellenic Republic": "Greece",
        "Republic of Iceland": "Iceland", "Italian Republic": "Italy", "Republic of Kosovo": "Kosovo",
        "Republic of Latvia": "Latvia", "Principality of Liechtenstein": "Liechtenstein", "Republic of Lithuania": "Lithuania",
        "Grand Duchy of Luxembourg": "Luxembourg", "Republic of Malta": "Malta", "Republic of Moldova": "Moldova",
        "Principality of Monaco": "Monaco", "Kingdom of the Netherlands": "Netherlands", "Republic of North Macedonia": "North Macedonia",
        "Kingdom of Norway": "Norway", "Republic of Poland": "Poland", "Portuguese Republic": "Portugal",
        "Republic of San Marino": "San Marino", "Republic of Serbia": "Serbia", "Slovak Republic": "Slovakia",
        "Republic of Slovenia": "Slovenia", "Kingdom of Spain": "Spain", "Kingdom of Sweden": "Sweden",
        "Swiss Confederation": "Switzerland", "Republic of Türkiye": "Turkey", "Republic of Turkey": "Turkey",
        "United Kingdom of Great Britain and Northern Ireland": "United Kingdom",
        "Vatican City State": "Vatican", "Russian Federation": "Russia", "Kingdom of Scotland": "Scotland",

        // Middle East
        "State of Israel": "Israel", "State of Palestine": "Palestine", "Lebanese Republic": "Lebanon",
        "Syrian Arab Republic": "Syria", "Hashemite Kingdom of Jordan": "Jordan", "Republic of Iraq": "Iraq",
        "Islamic Republic of Iran": "Iran", "State of Kuwait": "Kuwait", "Kingdom of Saudi Arabia": "Saudi Arabia",
        "Kingdom of Bahrain": "Bahrain", "State of Qatar": "Qatar", "Sultanate of Oman": "Oman",
        "Republic of Yemen": "Yemen", "Islamic Republic of Afghanistan": "Afghanistan",
        "Islamic Republic of Pakistan": "Pakistan", "Republic of Georgia": "Georgia",
        "Republic of Armenia": "Armenia", "Republic of Azerbaijan": "Azerbaijan"
      };
      return nameMap[name] || name;
    }

    const hoverInfo = document.getElementById('hover-info');
    function showHoverInfo(e,country,displayName){
      const pron = pronunciations[country]||"";
      const word = customNames[country]||"";
      hoverInfo.innerHTML = `<h4>${country}</h4>
        <div class="info-row"><span class="info-label">Word</span><span class="info-value word">${word}</span></div>
        <div class="info-row"><span class="info-label">Pronunciation</span><span class="info-value pronunciation">${pron}</span></div>
        ${displayName!==word?`<div class="info-row"><span class="info-label">Custom</span><span class="info-value">${displayName}</span></div>`:''}`;
      hoverInfo.style.display='block';
      hoverInfo.style.left=Math.min(e.pageX+15,window.innerWidth-220)+'px';
      hoverInfo.style.top=Math.max(e.pageY-10,10)+'px';
    }
    function hideHoverInfo(){ hoverInfo.style.display='none'; }
    function updateHoverInfo(e){ hoverInfo.style.left=Math.min(e.pageX+15,window.innerWidth-220)+'px'; hoverInfo.style.top=Math.max(e.pageY-10,10)+'px'; }

    const map = L.map('map',{zoomControl:true,attributionControl:true,maxBounds:[[25,-30],[75,80]],maxBoundsViscosity:1.0}).setView([50,20],4);

    L.tileLayer('https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png',{
      attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',
      subdomains:'abcd',maxZoom:19
    }).addTo(map);

    let countryMarkers = {};

    fetch('https://raw.githubusercontent.com/johan/world.geo.json/master/countries.geo.json')
      .then(res=>res.json())
      .then(data=>{
        L.geoJSON(data,{
          style: feature=>{
            const name=normalizeName(feature.properties.name);
            if(!(name in capitals)) return {fillOpacity:0};
            return {color:"#8B7355",weight:1.5,fillColor:getNextColor(),fillOpacity:0.4};
          },
          onEachFeature:(feature,layer)=>{
            const country=normalizeName(feature.properties.name);
            if(!(country in capitals)) return;
            const displayName=customNames[country]||country;
            const capitalCoords=capitals[country];
            const marker=L.marker(capitalCoords,{
              icon:L.divIcon({className:"country-label",html:displayName,iconSize:[null,24],iconAnchor:[null,12]})
            }).addTo(map);
            countryMarkers[country]=marker;

            layer.on('mouseover',e=>{ showHoverInfo(e.originalEvent,country,displayName); layer.setStyle({weight:2.5,fillOpacity:0.6,color:"#654321"}); });
            layer.on('mouseout',e=>{ hideHoverInfo(); layer.setStyle({weight:1.5,fillOpacity:0.4,color:"#8B7355"}); });
            layer.on('mousemove',e=>updateHoverInfo(e.originalEvent));

            marker.on('mouseover',e=>showHoverInfo(e.originalEvent,country,displayName));
            marker.on('mouseout',hideHoverInfo);
            marker.on('mousemove',e=>updateHoverInfo(e.originalEvent));
          }
        }).addTo(map);

        const ukSubRegions = {"Scotland":[55.9533,-3.1883],"Wales":[51.4816,-3.1791]};
        for(const [name,coords] of Object.entries(ukSubRegions)){
          const marker=L.marker(coords,{
            icon:L.divIcon({className:"country-label",html:customNames[name],iconSize:[null,24],iconAnchor:[null,12]})
          }).addTo(map);
          countryMarkers[name]=marker;
          marker.on('mouseover',e=>showHoverInfo(e.originalEvent,name,name));
          marker.on('mouseout',hideHoverInfo);
          marker.on('mousemove',e=>updateHoverInfo(e.originalEvent));
        }
      });

    map.on('mouseout',hideHoverInfo);
  </script>
</body>
</html>

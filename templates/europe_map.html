<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Europe Language Map</title>
  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css"/>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: 'Inter', sans-serif; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); overflow: hidden; }
    #map { height: 100vh; width: 100%; border-radius: 0; }

    .map-header {
      position: absolute;
      top: 20px; left: 20px; z-index: 1001;
      background: rgba(255,255,255,0.95);
      backdrop-filter: blur(10px);
      padding: 16px 24px;
      border-radius: 16px;
      box-shadow: 0 8px 32px rgba(0,0,0,0.1);
      border: 1px solid rgba(255,255,255,0.2);
    }
    .map-header h1 { font-size: 24px; font-weight: 600; color: #2d3748; margin-bottom: 4px; }
    .map-header p { font-size: 14px; color: #718096; font-weight: 400; }

    .country-label {
      font-size: 13px; font-weight: 500; text-align: center; color: #2d3748;
      text-shadow: 0 1px 3px rgba(255,255,255,0.8);
      font-family: 'Inter', sans-serif;
      background: rgba(255,255,255,0.9); padding: 4px 8px;
      border-radius: 8px; border: 1px solid rgba(0,0,0,0.1); backdrop-filter: blur(4px);
    }

    .hover-info {
      position: absolute;
      background: rgba(45,55,72,0.95); backdrop-filter: blur(12px);
      color: white; padding: 16px 20px; border-radius: 12px;
      pointer-events: none; z-index: 1000; font-size: 14px;
      box-shadow: 0 12px 48px rgba(0,0,0,0.3); border: 1px solid rgba(255,255,255,0.1);
      font-family: 'Inter', sans-serif; min-width: 200px;
      transform: translateY(-10px); transition: all 0.2s ease;
    }
    .hover-info h4 { margin: 0 0 8px 0; font-size: 18px; font-weight: 600; color: #f7fafc; }
    .hover-info .info-row { display: flex; justify-content: space-between; align-items: center; margin: 6px 0; padding: 2px 0; }
    .hover-info .info-label { font-size: 12px; color: #a0aec0; font-weight: 500; text-transform: uppercase; letter-spacing: 0.5px; }
    .hover-info .info-value { font-size: 14px; color: #e2e8f0; font-weight: 400; text-align: right; }
    .hover-info .info-value.pronunciation { font-style: italic; color: #bee3f8; }
    .hover-info .info-value.word { font-weight: 500; color: #90cdf4; font-size: 16px; }

    /* Leaflet popups */
    .leaflet-popup-content-wrapper { background: rgba(255,255,255,0.95); backdrop-filter: blur(12px); border-radius: 12px; box-shadow: 0 12px 48px rgba(0,0,0,0.15); border: 1px solid rgba(0,0,0,0.1); }
    .leaflet-popup-content { margin: 16px 20px; font-family: 'Inter', sans-serif; }
    .leaflet-popup-content h4 { margin: 0 0 12px 0; font-size: 18px; font-weight: 600; color: #2d3748; }
    .leaflet-popup-content p { margin: 8px 0; color: #4a5568; font-size: 14px; }
    .leaflet-popup-content input { width: 100%; padding: 8px 12px; border: 2px solid #e2e8f0; border-radius: 8px; font-size: 14px; font-family: 'Inter', sans-serif; margin: 8px 0; transition: border-color 0.2s ease; }
    .leaflet-popup-content input:focus { outline: none; border-color: #4299e1; box-shadow: 0 0 0 3px rgba(66,153,225,0.1); }
    .leaflet-popup-content button { background: linear-gradient(135deg,#4299e1,#3182ce); color: white; border: none; padding: 8px 16px; border-radius: 8px; font-size: 14px; font-weight: 500; cursor: pointer; transition: all 0.2s ease; font-family: 'Inter', sans-serif; }
    .leaflet-popup-content button:hover { background: linear-gradient(135deg,#3182ce,#2c5aa0); transform: translateY(-1px); box-shadow: 0 4px 12px rgba(66,153,225,0.3); }
    .leaflet-popup-tip { background: rgba(255,255,255,0.95); backdrop-filter: blur(12px); }

    /* Custom zoom controls */
    .leaflet-control-zoom { border: none !important; box-shadow: 0 8px 32px rgba(0,0,0,0.1) !important; }
    .leaflet-control-zoom a { background: rgba(255,255,255,0.9) !important; backdrop-filter: blur(8px); border: 1px solid rgba(0,0,0,0.1) !important; color: #4a5568 !important; font-weight: 600; transition: all 0.2s ease; }
    .leaflet-control-zoom a:hover { background: rgba(255,255,255,1) !important; color: #2d3748 !important; }
  </style>
</head>
<body>
  <div class="map-header">
    <h1>European Languages</h1>
    <p>Hover to explore the word for "eye"</p>
  </div>
  <div id="map"></div>
  <div id="hover-info" class="hover-info" style="display:none;"></div>
  <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
  <script>

    const capitals = {
      // Europe
      "Albania": [41.3275, 19.8189], "Andorra": [42.5078, 1.5211], "Austria": [48.2082, 13.5738],
      "Belarus": [53.9, 27.5667], "Belgium": [50.8503, 4.3517], "Bosnia and Herzegovina": [43.8563, 18.4131],
      "Bulgaria": [42.6977, 23.3219], "Croatia": [45.8150, 15.9819], "Cyprus": [35.1856, 33.3823],
      "Czech Republic": [50.0755, 14.4378], "Czechia": [50.0755, 14.4378], 
      "Denmark": [55.83, 7.94], "Estonia": [57.437, 24.7536],
      "Finland": [62, 24.9384], "France": [46.8566, 0.5522], "Germany": [50.52, 10.405],
      "Greece": [38.4838, 22.4275], "Hungary": [46.4979, 19.0402], "Iceland": [64.1466, -21.9426],
      "Ireland": [53.3498, -6.2603], "Italy": [41.9028, 12.4964], "Kosovo": [42.6629, 21.1655],
      "Latvia": [56.9496, 24.1052], "Liechtenstein": [47.141, 9.5215], "Lithuania": [55.6872, 22.2797],
      "Luxembourg": [49.6116, 6.1319], "Malta": [35.8989, 14.5146], "Moldova": [47.0105, 28.8638],
      "Monaco": [43.7384, 7.4246], "Montenegro": [42.9304, 18.7594], "Netherlands": [52.3676, 4.9041],
      "North Macedonia": [41.9981, 21.4254], "Norway": [60.7, 7.56], "Poland": [52.2297, 19.0122],
      "Portugal": [38.7169, -8.865], "Romania": [44.4268, 26.1025], "Russia": [55.7558, 37.6173],
      "San Marino": [43.9356, 12.4473], "Scotland": [55.9533, -3.1883],
      "Serbia": [44.8176, 20.4569], "Slovakia": [48.1486, 19.1077], "Slovenia": [46.0569, 14.5058],
      "Spain": [40.4168, -3.7038], "Sweden": [59.3293, 13.2], "Switzerland": [46.9481, 7.4474],
      "Turkey": [39.9208, 32.8541], "Ukraine": [50.45, 30.5236], "United Kingdom": [52.6, -2.0],
      "Vatican": [41.9022, 12.4539], "Wales": [51.4816, -3.1791],

      // Middle East
      "Israel": [31.7683, 35.2137], "Palestine": [31.9073, 35.2034], "Lebanon": [33.8869, 35.5131],
      "Syria": [33.5138, 36.2765], "Jordan": [31.9454, 35.9284], "Iraq": [33.3152, 44.3661],
      "Iran": [35.6892, 51.3890], "Kuwait": [29.3117, 47.4818], "Saudi Arabia": [24.7136, 46.6753],
      "Bahrain": [26.0667, 50.5577], "Qatar": [25.2854, 51.5310], "United Arab Emirates": [24.2992, 54.6970],
      "Oman": [23.5859, 58.4059], "Yemen": [15.3694, 44.1910], "Afghanistan": [34.5553, 69.2075],
      "Pakistan": [33.7294, 73.0931], "Kazakhstan": [49.1694, 64.4491], "Georgia": [42.3154, 43.3569], "Armenia": [40.1792, 44.4991],
      "Azerbaijan": [40.4093, 49.8671], "Turkmenistan": [38.9697, 59.5563], "Uzbekistan": [41.3775, 64.5853]
    };

    const customNames = {
      // Europe
      "Albania": "syri", "Andorra": "ull", "Austria": "Auge", "Belarus": "вока", "Belgium": "œil",
      "Bosnia and Herzegovina": "oko", "Bulgaria": "око", "Croatia": "oko", "Cyprus": "μάτι", "Czechia": "oko",
      "Denmark": "øje", "Estonia": "silm", "Finland": "silmä", "France": "œil", "Germany": "Auge",
      "Greece": "μάτι", "Hungary": "szem", "Iceland": "auga", "Ireland": "súil", "Italy": "occhio",
      "Kosovo": "syri", "Latvia": "acs", "Liechtenstein": "Auge", "Lithuania": "akis", "Luxembourg": "Aen",
      "Malta": "għajn", "Moldova": "ochi", "Monaco": "œil", "Montenegro": "oko", "Netherlands": "oog",
      "North Macedonia": "око", "Norway": "øye", "Poland": "oko", "Portugal": "olho", "Romania": "ochi",
      "San Marino": "occhio", "Scotland": "sùil", "Serbia": "око", "Slovakia": "око", "Slovenia": "око", "Spain": "ojo",
      "Sweden": "öga", "Switzerland": "Auge", "Turkey": "göz", "Ukraine": "око", "United Kingdom": "eye",
      "Vatican": "occhio", "Russia": "глаз", "Wales": "llygad",
      // Middle East
      "Israel": "עין", "Palestine": "عين", "Lebanon": "عين", "Syria": "عين", "Jordan": "عين",
      "Iraq": "عين", "Iran": "چشم", "Kuwait": "عين", "Saudi Arabia": "عين", "Bahrain": "عين",
      "Qatar": "عين", "United Arab Emirates": "عين", "Oman": "عين", "Yemen": "عين",
      "Afghanistan": "سترګه", "Pakistan": "آنکھ", "Kazakhstan": "көз", "Georgia": "თვალი", "Armenia": "աչք",
      "Azerbaijan": "göz", "Turkmenistan": "göz", "Uzbekistan": "көз"
    };

    const pronunciations = {
      // Europe
      "Albania": "SY-ree", "Andorra": "ool", "Austria": "OW-geh", "Belarus": "VOH-ka", "Belgium": "uh-y",
      "Bosnia and Herzegovina": "OH-ko", "Bulgaria": "OH-ko", "Croatia": "OH-ko", "Cyprus": "MAH-tee",
      "Czechia": "OH-ko", "Denmark": "UR-yeh", "Estonia": "silm", "Finland": "SIL-mah", "France": "uh-y",
      "Germany": "OW-geh", "Greece": "MAH-tee", "Hungary": "sem", "Iceland": "OW-ga", "Ireland": "SOO-il",
      "Italy": "OH-kee-oh", "Kosovo": "SY-ree", "Latvia": "ahts", "Liechtenstein": "OW-geh", "Lithuania": "AH-kis",
      "Luxembourg": "ah-en", "Malta": "ah-yn", "Moldova": "OH-kee", "Monaco": "uh-y", "Montenegro": "OH-ko",
      "Netherlands": "ohg", "North Macedonia": "OH-ko", "Norway": "UR-yeh", "Poland": "OH-ko", "Portugal": "OH-lyo",
      "Romania": "OH-kee", "San Marino": "OH-kee-oh", "Scotland": "sool", "Serbia": "OH-ko", "Slovakia": "OH-ko", "Slovenia": "OH-ko",
      "Spain": "OH-ho", "Sweden": "UR-ga", "Switzerland": "OW-geh", "Turkey": "gurz", "Ukraine": "OH-ko",
      "United Kingdom": "ahy", "Vatican": "OH-kee-oh", "Russia": "glahs", "Wales": "LLUH-gad",
      
      // Middle East
      "Israel": "AH-yin", "Palestine": "AYN", "Lebanon": "AYN", "Syria": "AYN", "Jordan": "AYN",
      "Iraq": "AYN", "Iran": "cheshm", "Kuwait": "AYN", "Saudi Arabia": "AYN", "Bahrain": "AYN",
      "Qatar": "AYN", "United Arab Emirates": "AYN", "Oman": "AYN", "Yemen": "AYN",
      "Afghanistan": "star-GAH", "Pakistan": "AANKH", "Kazakhstan": "kohz", "Georgia": "tva-LEE", 
      "Armenia": "achk", "Azerbaijan": "g-urz", "Turkmenistan": "g-urz", "Uzbekistan": "kohz"
    };

    const countryColors = [
      '#8fbc8f', '#4daaf1ff', '#d2b48c', '#3befefff', '#9830edff', 
      '#c85c5cff', '#dda0dd', '#98fb98', '#f5deb3', '#d918afff',
      '#f7b345ff', '#69403bff', '#44be44ff', '#e79c11ff', '#c6a831ff'
    ];
    let colorIndex = 0;
    function getNextColor() { return countryColors[colorIndex++ % countryColors.length]; }

    function normalizeName(name) {
      const nameMap = {
        // Europe
        "Republic of Albania": "Albania", "Principality of Andorra": "Andorra", "Republic of Austria": "Austria",
        "Republic of Belarus": "Belarus", "Kingdom of Belgium": "Belgium", "Republic of Bulgaria": "Bulgaria",
        "Republic of Croatia": "Croatia", "Republic of Cyprus": "Cyprus", "Czech Republic": "Czechia",
        "Kingdom of Denmark": "Denmark", "Republic of Estonia": "Estonia", "Republic of Finland": "Finland",
        "French Republic": "France", "Federal Republic of Germany": "Germany", "Hellenic Republic": "Greece",
        "Republic of Iceland": "Iceland", "Italian Republic": "Italy", "Republic of Kosovo": "Kosovo",
        "Republic of Latvia": "Latvia", "Principality of Liechtenstein": "Liechtenstein", "Republic of Lithuania": "Lithuania",
        "Grand Duchy of Luxembourg": "Luxembourg", "Republic of Malta": "Malta", "Republic of Moldova": "Moldova",
        "Principality of Monaco": "Monaco", "Kingdom of the Netherlands": "Netherlands", "Republic of North Macedonia": "North Macedonia",
        "Kingdom of Norway": "Norway", "Republic of Poland": "Poland", "Portuguese Republic": "Portugal",
        "Republic of San Marino": "San Marino", "Republic of Serbia": "Serbia", "Slovak Republic": "Slovakia",
        "Republic of Slovenia": "Slovenia", "Kingdom of Spain": "Spain", "Kingdom of Sweden": "Sweden",
        "Swiss Confederation": "Switzerland", "Republic of Türkiye": "Turkey", "Republic of Turkey": "Turkey",
        "United Kingdom of Great Britain and Northern Ireland": "United Kingdom",
        "Vatican City State": "Vatican", "Russian Federation": "Russia", "Kingdom of Scotland": "Scotland",

        // Middle East
        "State of Israel": "Israel", "State of Palestine": "Palestine", "Lebanese Republic": "Lebanon",
        "Syrian Arab Republic": "Syria", "Hashemite Kingdom of Jordan": "Jordan", "Republic of Iraq": "Iraq",
        "Islamic Republic of Iran": "Iran", "State of Kuwait": "Kuwait", "Kingdom of Saudi Arabia": "Saudi Arabia",
        "Kingdom of Bahrain": "Bahrain", "State of Qatar": "Qatar", "Sultanate of Oman": "Oman",
        "Republic of Yemen": "Yemen", "Islamic Republic of Afghanistan": "Afghanistan",
        "Islamic Republic of Pakistan": "Pakistan", "Republic of Georgia": "Georgia",
        "Republic of Armenia": "Armenia", "Republic of Azerbaijan": "Azerbaijan"
      };
      return nameMap[name] || name;
    }

    const hoverInfo = document.getElementById('hover-info');
    function showHoverInfo(e,country,displayName){
      const pron = pronunciations[country]||"";
      const word = customNames[country]||"";
      hoverInfo.innerHTML = `<h4>${country}</h4>
        <div class="info-row"><span class="info-label">Word</span><span class="info-value word">${word}</span></div>
        <div class="info-row"><span class="info-label">Pronunciation</span><span class="info-value pronunciation">${pron}</span></div>
        ${displayName!==word?`<div class="info-row"><span class="info-label">Custom</span><span class="info-value">${displayName}</span></div>`:''}`;
      hoverInfo.style.display='block';
      hoverInfo.style.left=Math.min(e.pageX+15,window.innerWidth-220)+'px';
      hoverInfo.style.top=Math.max(e.pageY-10,10)+'px';
    }
    function hideHoverInfo(){ hoverInfo.style.display='none'; }
    function updateHoverInfo(e){ hoverInfo.style.left=Math.min(e.pageX+15,window.innerWidth-220)+'px'; hoverInfo.style.top=Math.max(e.pageY-10,10)+'px'; }

    const map = L.map('map',{zoomControl:true,attributionControl:true,maxBounds:[[25,-30],[75,80]],maxBoundsViscosity:1.0}).setView([50,20],4);

    L.tileLayer('https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png',{
      attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',
      subdomains:'abcd',maxZoom:19
    }).addTo(map);

    let countryMarkers = {};

    fetch('https://raw.githubusercontent.com/johan/world.geo.json/master/countries.geo.json')
      .then(res=>res.json())
      .then(data=>{
        L.geoJSON(data,{
          style: feature=>{
            const name=normalizeName(feature.properties.name);
            if(!(name in capitals)) return {fillOpacity:0};
            return {color:"#8B7355",weight:1.5,fillColor:getNextColor(),fillOpacity:0.4};
          },
          onEachFeature:(feature,layer)=>{
            const country=normalizeName(feature.properties.name);
            if(!(country in capitals)) return;
            const displayName=customNames[country]||country;
            const capitalCoords=capitals[country];
            const marker=L.marker(capitalCoords,{
              icon:L.divIcon({className:"country-label",html:displayName,iconSize:[null,24],iconAnchor:[null,12]})
            }).addTo(map);
            countryMarkers[country]=marker;

            layer.on('mouseover',e=>{ showHoverInfo(e.originalEvent,country,displayName); layer.setStyle({weight:2.5,fillOpacity:0.6,color:"#654321"}); });
            layer.on('mouseout',e=>{ hideHoverInfo(); layer.setStyle({weight:1.5,fillOpacity:0.4,color:"#8B7355"}); });
            layer.on('mousemove',e=>updateHoverInfo(e.originalEvent));

            marker.on('mouseover',e=>showHoverInfo(e.originalEvent,country,displayName));
            marker.on('mouseout',hideHoverInfo);
            marker.on('mousemove',e=>updateHoverInfo(e.originalEvent));
          }
        }).addTo(map);

        const ukSubRegions = {"Scotland":[55.9533,-3.1883],"Wales":[51.4816,-3.1791]};
        for(const [name,coords] of Object.entries(ukSubRegions)){
          const marker=L.marker(coords,{
            icon:L.divIcon({className:"country-label",html:customNames[name],iconSize:[null,24],iconAnchor:[null,12]})
          }).addTo(map);
          countryMarkers[name]=marker;
          marker.on('mouseover',e=>showHoverInfo(e.originalEvent,name,name));
          marker.on('mouseout',hideHoverInfo);
          marker.on('mousemove',e=>updateHoverInfo(e.originalEvent));
        }
      });

    map.on('mouseout',hideHoverInfo);
  </script>
</body>
</html>
